{% extends "base.html" %}

{% block page_content %}
<h1>Post Index2</h1>
<section class="grid">
    {% for post in posts %} 
    <div class="embed-responsive embed-responsive-16by9">
        {% if post.cover_img %}
            <img src="{{ post.cover_img.url }}" class="card-img-top embed-responsive-item rounded">
        {% else %}
        <span class="text-muted card-img-top embed-responsive-item rounded d-flex justify-content-center">No Image</span>
        {% endif %}
    </div>
    <div class="card-body">
        <h5 class="card-title"><a href="{% url 'blog_detail' post.pk %}">{{ post.title }}</a></h5>
            <p class="card-text">
                <small class="text-muted">
                    <span class="fa fa-tags"></span>
                    {% for category in post.categories.all %}
                        <a class="badge badge-light text-muted"  href="{% url 'blog_category' category.name %}">{{ category.name }}</a>
                    {% endfor %}
                </small>
            </p>
        <p class="card-text">{{ post.body | slice:":150"}}...</p>
    </div>
    {% endfor %}
</section>

{% endblock %}

